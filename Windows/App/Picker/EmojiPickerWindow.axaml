<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:picker="clr-namespace:PHTV.Windows.Picker"
        xmlns:tabs="clr-namespace:PHTV.Windows.Picker.Tabs"
        x:Class="PHTV.Windows.Picker.EmojiPickerWindow"
        x:DataType="picker:EmojiPickerViewModel"
        Width="380" Height="480"
        CanResize="False"
        SystemDecorations="None"
        Topmost="True"
        ShowInTaskbar="False"
        Background="Transparent"
        TransparencyLevelHint="AcrylicBlur">

  <Border CornerRadius="16"
          ClipToBounds="True"
          Background="#E8202020"
          BorderBrush="#40808080"
          BorderThickness="1">
    <DockPanel>
      <!-- Header -->
      <Border DockPanel.Dock="Top"
              Padding="12,8"
              Background="Transparent"
              PointerPressed="OnHeaderPointerPressed">
        <Grid ColumnDefinitions="Auto,*,Auto">
          <TextBlock Grid.Column="0"
                     Text="â˜°"
                     FontSize="12"
                     Foreground="#80FFFFFF"
                     VerticalAlignment="Center" />
          <TextBlock Grid.Column="1"
                     Text="PHTV Picker"
                     FontSize="13"
                     FontWeight="SemiBold"
                     Foreground="#CCFFFFFF"
                     HorizontalAlignment="Center"
                     VerticalAlignment="Center" />
          <Button Grid.Column="2"
                  Content="âœ•"
                  FontSize="12"
                  Padding="6,2"
                  Background="Transparent"
                  Foreground="#80FFFFFF"
                  Click="OnCloseClick"
                  Cursor="Hand" />
        </Grid>
      </Border>

      <!-- Tab bar -->
      <Border DockPanel.Dock="Top" Padding="12,0,12,8">
        <StackPanel Orientation="Horizontal" Spacing="4">
          <Button Classes="tab-button"
                  Classes.selected="{Binding SelectedTab, Converter={x:Static picker:EmojiPickerWindow.TabEqualsConverter}, ConverterParameter=0}"
                  Click="OnTabClick" Tag="0">
            <StackPanel Orientation="Horizontal" Spacing="4">
              <TextBlock Text="âœ¨" FontSize="13" />
              <TextBlock Text="Táº¥t cáº£" FontSize="12" />
            </StackPanel>
          </Button>
          <Button Classes="tab-button"
                  Classes.selected="{Binding SelectedTab, Converter={x:Static picker:EmojiPickerWindow.TabEqualsConverter}, ConverterParameter=1}"
                  Click="OnTabClick" Tag="1">
            <StackPanel Orientation="Horizontal" Spacing="4">
              <TextBlock Text="ðŸ˜Š" FontSize="13" />
              <TextBlock Text="Emoji" FontSize="12" />
            </StackPanel>
          </Button>
          <Button Classes="tab-button"
                  Classes.selected="{Binding SelectedTab, Converter={x:Static picker:EmojiPickerWindow.TabEqualsConverter}, ConverterParameter=2}"
                  Click="OnTabClick" Tag="2">
            <StackPanel Orientation="Horizontal" Spacing="4">
              <TextBlock Text="ðŸŽžï¸" FontSize="13" />
              <TextBlock Text="GIF" FontSize="12" />
            </StackPanel>
          </Button>
          <Button Classes="tab-button"
                  Classes.selected="{Binding SelectedTab, Converter={x:Static picker:EmojiPickerWindow.TabEqualsConverter}, ConverterParameter=3}"
                  Click="OnTabClick" Tag="3">
            <StackPanel Orientation="Horizontal" Spacing="4">
              <TextBlock Text="â­" FontSize="13" />
              <TextBlock Text="Sticker" FontSize="12" />
            </StackPanel>
          </Button>
        </StackPanel>
      </Border>

      <!-- Separator -->
      <Border DockPanel.Dock="Top" Height="1" Background="#30808080" />

      <!-- Content area -->
      <Panel>
        <tabs:UnifiedTabView IsVisible="{Binding SelectedTab, Converter={x:Static picker:EmojiPickerWindow.TabEqualsConverter}, ConverterParameter=0}" />
        <tabs:EmojiCategoriesTabView IsVisible="{Binding SelectedTab, Converter={x:Static picker:EmojiPickerWindow.TabEqualsConverter}, ConverterParameter=1}" />
        <tabs:GifTabView IsVisible="{Binding SelectedTab, Converter={x:Static picker:EmojiPickerWindow.TabEqualsConverter}, ConverterParameter=2}" />
        <tabs:StickerTabView IsVisible="{Binding SelectedTab, Converter={x:Static picker:EmojiPickerWindow.TabEqualsConverter}, ConverterParameter=3}" />
      </Panel>
    </DockPanel>
  </Border>

  <Window.Styles>
    <Style Selector="Button.tab-button">
      <Setter Property="Background" Value="Transparent" />
      <Setter Property="Foreground" Value="#99FFFFFF" />
      <Setter Property="Padding" Value="8,4" />
      <Setter Property="CornerRadius" Value="8" />
      <Setter Property="Cursor" Value="Hand" />
      <Setter Property="BorderThickness" Value="0" />
    </Style>
    <Style Selector="Button.tab-button:pointerover">
      <Setter Property="Background" Value="#20FFFFFF" />
    </Style>
    <Style Selector="Button.tab-button.selected">
      <Setter Property="Background" Value="#30FFFFFF" />
      <Setter Property="Foreground" Value="#FFFFFF" />
    </Style>
  </Window.Styles>
</Window>
