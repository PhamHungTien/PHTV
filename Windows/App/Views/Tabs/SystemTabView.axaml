<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="PHTV.Windows.Views.Tabs.SystemTabView"
             xmlns:vm="using:PHTV.Windows.ViewModels"
             x:DataType="vm:SystemTabViewModel">
  <ScrollViewer VerticalScrollBarVisibility="Auto">
    <StackPanel Margin="20" Spacing="20" MaxWidth="760">
      <Border Classes="settings-header">
        <Grid ColumnDefinitions="*,Auto">
          <StackPanel Spacing="4">
            <TextBlock Classes="settings-header-title" Text="{Binding Title}"/>
            <TextBlock Classes="settings-header-subtitle" Text="{Binding Subtitle}" TextWrapping="Wrap"/>
          </StackPanel>
          <StackPanel Grid.Column="1" Spacing="6" HorizontalAlignment="Right">
            <Border Classes="status-pill"><TextBlock Classes="status-pill-text" Text="{Binding State.RunOnStartup, StringFormat='Tá»± khá»Ÿi Ä‘á»™ng: {0}'}"/></Border>
            <Border Classes="status-pill"><TextBlock Classes="status-pill-text" Text="{Binding State.ShowIconOnDock, StringFormat='Dock: {0}'}"/></Border>
          </StackPanel>
        </Grid>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header"><Grid ColumnDefinitions="Auto,*"><Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="ðŸš€"/></Border><StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="Khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng"/><TextBlock Classes="settings-card-subtitle" Text="Tá»± má»Ÿ PHTV khi Ä‘Äƒng nháº­p Windows"/></StackPanel></Grid></Border>
          <StackPanel Margin="16" Spacing="8">
            <Grid ColumnDefinitions="*,Auto"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="Báº­t khá»Ÿi Ä‘á»™ng cÃ¹ng Windows"/><TextBlock Classes="settings-row-subtitle" Text="ÄÄƒng kÃ½ startup qua user registry (HKCU)"/></StackPanel><ToggleSwitch Grid.Column="1" IsChecked="{Binding State.RunOnStartup}"/></Grid>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header"><Grid ColumnDefinitions="Auto,*"><Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="âŒ¨"/></Border><StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="Runtime Hook Daemon"/><TextBlock Classes="settings-card-subtitle" Text="Äá»“ng bá»™ engine dÃ¹ng chung vÃ  xá»­ lÃ½ gÃµ toÃ n há»‡ thá»‘ng"/></StackPanel></Grid></Border>
          <StackPanel Margin="16" Spacing="8">
            <TextBlock Classes="settings-row-title"
                       Text="{Binding DataContext.InputDaemonStatus, RelativeSource={RelativeSource AncestorType=Window}}"
                       TextWrapping="Wrap"/>
            <WrapPanel Classes="settings-actions">
              <Button Content="Khá»Ÿi cháº¡y daemon"
                      Command="{Binding DataContext.StartInputDaemonCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
              <Button Content="Dá»«ng daemon"
                      Command="{Binding DataContext.StopInputDaemonCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
              <Button Content="Khá»Ÿi Ä‘á»™ng láº¡i"
                      Command="{Binding DataContext.RestartInputDaemonCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
              <Button Content="Má»Ÿ runtime folder"
                      Command="{Binding DataContext.OpenRuntimeFolderCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
            </WrapPanel>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header"><Grid ColumnDefinitions="Auto,*"><Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="ðŸ§©"/></Border><StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="TSF Input Method (TIP)"/><TextBlock Classes="settings-card-subtitle" Text="ÄÄƒng kÃ½ bá»™ gÃµ system-wide theo chuáº©n Windows Text Services Framework"/></StackPanel></Grid></Border>
          <StackPanel Margin="16" Spacing="8">
            <TextBlock Classes="settings-row-title"
                       Text="{Binding DataContext.TsfStatus, RelativeSource={RelativeSource AncestorType=Window}}"
                       TextWrapping="Wrap"/>
            <WrapPanel Classes="settings-actions">
              <Button Content="ÄÄƒng kÃ½ TSF"
                      Command="{Binding DataContext.RegisterTsfCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
              <Button Content="Há»§y Ä‘Äƒng kÃ½ TSF"
                      Command="{Binding DataContext.UnregisterTsfCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
              <Button Content="Má»Ÿ Language settings"
                      Command="{Binding DataContext.OpenWindowsLanguageSettingsCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
            </WrapPanel>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header"><Grid ColumnDefinitions="Auto,*"><Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="ðŸªŸ"/></Border><StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="Giao diá»‡n"/><TextBlock Classes="settings-card-subtitle" Text="TÃ¹y chá»‰nh hiá»ƒn thá»‹ cá»­a sá»•"/></StackPanel></Grid></Border>
          <StackPanel Margin="16" Spacing="8">
            <Grid ColumnDefinitions="*,Auto"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="CÃ i Ä‘áº·t luÃ´n á»Ÿ trÃªn"/><TextBlock Classes="settings-row-subtitle" Text="Giá»¯ cá»­a sá»• CÃ i Ä‘áº·t náº±m trÃªn app khÃ¡c"/></StackPanel><ToggleSwitch Grid.Column="1" IsChecked="{Binding State.SettingsWindowAlwaysOnTop}"/></Grid>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header"><Grid ColumnDefinitions="Auto,*"><Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="â–­"/></Border><StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="Thanh menu"/><TextBlock Classes="settings-card-subtitle" Text="TÃ¹y chá»‰nh biá»ƒu tÆ°á»£ng tráº¡ng thÃ¡i"/></StackPanel></Grid></Border>
          <StackPanel Margin="16" Spacing="8">
            <Grid ColumnDefinitions="*,Auto"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="Hiá»ƒn thá»‹ biá»ƒu tÆ°á»£ng chá»¯ V"/><TextBlock Classes="settings-row-subtitle" Text="DÃ¹ng icon chá»¯ V khi á»Ÿ cháº¿ Ä‘á»™ Viá»‡t"/></StackPanel><ToggleSwitch Grid.Column="1" IsChecked="{Binding State.UseVietnameseMenubarIcon}"/></Grid>
            <Border Classes="settings-divider"/>
            <StackPanel Spacing="4">
              <TextBlock Classes="settings-row-title" Text="KÃ­ch thÆ°á»›c icon"/>
              <TextBlock Classes="settings-row-subtitle" Text="Äiá»u chá»‰nh kÃ­ch thÆ°á»›c icon trÃªn menu bar"/>
              <Slider Minimum="12" Maximum="20" Value="{Binding State.MenuBarIconSize}"/>
            </StackPanel>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header"><Grid ColumnDefinitions="Auto,*"><Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="â¬‡"/></Border><StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="Cáº­p nháº­t"/><TextBlock Classes="settings-card-subtitle" Text="Thiáº¿t láº­p kiá»ƒm tra vÃ  cÃ i Ä‘áº·t cáº­p nháº­t"/></StackPanel></Grid></Border>
          <StackPanel Margin="16" Spacing="8">
            <Grid ColumnDefinitions="*,220"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="Táº§n suáº¥t kiá»ƒm tra cáº­p nháº­t"/><TextBlock Classes="settings-row-subtitle" Text="Tá»± Ä‘á»™ng kiá»ƒm tra báº£n má»›i"/></StackPanel><ComboBox Grid.Column="1" ItemsSource="{Binding State.UpdateCheckFrequencyOptions}" SelectedItem="{Binding State.UpdateCheckFrequency}"/></Grid>
            <Border Classes="settings-divider"/>
            <Grid ColumnDefinitions="*,Auto"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="Tá»± Ä‘á»™ng cÃ i Ä‘áº·t cáº­p nháº­t"/><TextBlock Classes="settings-row-subtitle" Text="CÃ i Ä‘áº·t khi cÃ³ phiÃªn báº£n má»›i"/></StackPanel><ToggleSwitch Grid.Column="1" IsChecked="{Binding State.AutoInstallUpdates}"/></Grid>
            <Border Classes="settings-divider"/>
            <Grid ColumnDefinitions="*,Auto"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="KÃªnh beta"/><TextBlock Classes="settings-row-subtitle" Text="Nháº­n báº£n thá»­ nghiá»‡m"/></StackPanel><ToggleSwitch Grid.Column="1" IsChecked="{Binding State.BetaChannelEnabled}"/></Grid>
            <Border Classes="settings-divider"/>
            <Button HorizontalAlignment="Left"
                    Content="Kiá»ƒm tra ngay"
                    Command="{Binding DataContext.CheckForUpdatesCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header"><Grid ColumnDefinitions="Auto,*"><Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="ðŸ’¾"/></Border><StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="Dá»¯ liá»‡u &amp; sao lÆ°u"/><TextBlock Classes="settings-card-subtitle" Text="Sao lÆ°u, khÃ´i phá»¥c vÃ  Ä‘áº·t láº¡i"/></StackPanel></Grid></Border>
          <StackPanel Margin="16" Spacing="8">
            <WrapPanel Classes="settings-actions">
              <Button Content="Xem hÆ°á»›ng dáº«n"
                      Command="{Binding DataContext.OpenGuideCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
              <Button Content="Xuáº¥t cáº¥u hÃ¬nh"
                      Command="{Binding DataContext.ExportSettingsCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
              <Button Content="Nháº­p cáº¥u hÃ¬nh"
                      Command="{Binding DataContext.ImportSettingsCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
              <Button Content="KhÃ´i phá»¥c máº·c Ä‘á»‹nh"
                      Command="{Binding DataContext.ResetSettingsCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
            </WrapPanel>
          </StackPanel>
        </StackPanel>
      </Border>
    </StackPanel>
  </ScrollViewer>
</UserControl>
