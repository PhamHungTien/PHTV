<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PHTV.Windows.ViewModels"
             x:Class="PHTV.Windows.Views.Tabs.BugReportTabView"
             x:DataType="vm:BugReportTabViewModel">
  <ScrollViewer VerticalScrollBarVisibility="Auto">
    <StackPanel Margin="20" Spacing="20" MaxWidth="760">
      <Border Classes="settings-header">
        <StackPanel Spacing="4">
          <TextBlock Classes="settings-header-title" Text="{Binding Title}"/>
          <TextBlock Classes="settings-header-subtitle" Text="{Binding Subtitle}" TextWrapping="Wrap"/>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header">
            <Grid ColumnDefinitions="Auto,*">
              <Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="ðŸž"/></Border>
              <StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="ThÃ´ng tin sá»± cá»‘"/><TextBlock Classes="settings-card-subtitle" Text="Chá»‰ cáº§n tiÃªu Ä‘á» vÃ  mÃ´ táº£"/></StackPanel>
            </Grid>
          </Border>

          <StackPanel Margin="16" Spacing="10">
            <TextBox Watermark="TiÃªu Ä‘á» váº¥n Ä‘á»" Text="{Binding State.BugTitle}"/>
            <TextBox AcceptsReturn="True" Height="120" TextWrapping="Wrap" VerticalContentAlignment="Top" Watermark="MÃ´ táº£ ngáº¯n gá»n váº¥n Ä‘á»..." Text="{Binding State.BugDescription}"/>

            <Grid ColumnDefinitions="*,*">
              <StackPanel Grid.Column="0" Spacing="4" Margin="0,0,6,0">
                <TextBlock Classes="settings-row-subtitle" Text="Má»©c Ä‘á»™"/>
                <ComboBox ItemsSource="{Binding State.BugSeverityOptions}"
                          SelectedItem="{Binding State.BugSeverity}"/>
              </StackPanel>

              <StackPanel Grid.Column="1" Spacing="4" Margin="6,0,0,0">
                <TextBlock Classes="settings-row-subtitle" Text="Khu vá»±c"/>
                <ComboBox ItemsSource="{Binding State.BugAreaOptions}"
                          SelectedItem="{Binding State.BugArea}"/>
              </StackPanel>
            </Grid>

            <TextBox AcceptsReturn="True" Height="80" TextWrapping="Wrap" VerticalContentAlignment="Top" Watermark="BÆ°á»›c tÃ¡i hiá»‡n..." Text="{Binding State.StepsToReproduce}"/>
            <Grid ColumnDefinitions="*,*">
              <TextBox Grid.Column="0" Margin="0,0,6,0" AcceptsReturn="True" Height="72" TextWrapping="Wrap" VerticalContentAlignment="Top" Watermark="Káº¿t quáº£ mong muá»‘n" Text="{Binding State.ExpectedResult}"/>
              <TextBox Grid.Column="1" Margin="6,0,0,0" AcceptsReturn="True" Height="72" TextWrapping="Wrap" VerticalContentAlignment="Top" Watermark="Káº¿t quáº£ thá»±c táº¿" Text="{Binding State.ActualResult}"/>
            </Grid>
            <TextBox Watermark="Email liÃªn há»‡ (tuá»³ chá»n)" Text="{Binding State.ContactEmail}"/>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header">
            <Grid ColumnDefinitions="Auto,*">
              <Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="ðŸ§¾"/></Border>
              <StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="ThÃ´ng tin cháº©n Ä‘oÃ¡n"/><TextBlock Classes="settings-card-subtitle" Text="Há»‡ thá»‘ng vÃ  nháº­t kÃ½"/></StackPanel>
            </Grid>
          </Border>

          <StackPanel Margin="16" Spacing="8">
            <Grid ColumnDefinitions="*,Auto"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="ThÃ´ng tin há»‡ thá»‘ng"/><TextBlock Classes="settings-row-subtitle" Text="PhiÃªn báº£n app, OS, pháº§n cá»©ng"/></StackPanel><ToggleSwitch Grid.Column="1" IsChecked="{Binding State.IncludeSystemInfo}"/></Grid>
            <Border Classes="settings-divider"/>
            <Grid ColumnDefinitions="*,Auto"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="Nháº­t kÃ½"/><TextBlock Classes="settings-row-subtitle" Text="Thu tháº­p log gáº§n nháº¥t"/></StackPanel><ToggleSwitch Grid.Column="1" IsChecked="{Binding State.IncludeLogs}"/></Grid>
            <Border Classes="settings-divider"/>
            <Grid ColumnDefinitions="*,Auto"><StackPanel Spacing="2"><TextBlock Classes="settings-row-title" Text="Crash logs"/><TextBlock Classes="settings-row-subtitle" Text="ÄÃ­nh kÃ¨m thÃ´ng tin crash (náº¿u cÃ³)"/></StackPanel><ToggleSwitch Grid.Column="1" IsChecked="{Binding State.IncludeCrashLogs}"/></Grid>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel>
          <Border Classes="settings-card-header">
            <Grid ColumnDefinitions="Auto,*">
              <Border Classes="settings-card-icon"><TextBlock Classes="settings-card-icon-text" Text="âœ‰"/></Border>
              <StackPanel Spacing="2"><TextBlock Classes="settings-card-title" Text="Gá»­i bÃ¡o lá»—i"/><TextBlock Classes="settings-card-subtitle" Text="Xuáº¥t file hoáº·c gá»­i lÃªn GitHub/Email"/></StackPanel>
            </Grid>
          </Border>

          <WrapPanel Margin="16" Classes="settings-actions">
            <Button Content="Sao chÃ©p ná»™i dung"
                    Command="{Binding DataContext.CopyBugReportCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
            <Button Content="LÆ°u file bÃ¡o cÃ¡o"
                    Command="{Binding DataContext.SaveBugReportCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
            <Button Content="Má»Ÿ GitHub Issue"
                    Command="{Binding DataContext.OpenGithubIssueCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
            <Button Content="Gá»­i Email"
                    Command="{Binding DataContext.SendEmailCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
          </WrapPanel>
        </StackPanel>
      </Border>
    </StackPanel>
  </ScrollViewer>
</UserControl>
